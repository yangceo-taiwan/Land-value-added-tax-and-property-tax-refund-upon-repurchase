<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ¿åœ°åˆä¸€ç¨…åŠåœŸåœ°å¢å€¼ç¨…é‡è³¼é€€ç¨…è©¦ç®— | å®åœ‹åœ°æ”¿ãƒ»æ˜“ä¸åœ°æ”¿</title>
<style>
    :root {
        --primary-color: #2c3e50;
        --secondary-color: #27ae60;
        --accent-color: #e67e22;
        --bg-color: #f4f7f6;
        --card-bg: #ffffff;
        --text-color: #333;
    }

    body {
        font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 20px;
        line-height: 1.6;
        padding-bottom: 100px; /* é ç•™ç©ºé–“çµ¦æ‡¸æµ®æŒ‰éˆ• */
    }

    .container {
        max-width: 800px;
        margin: 0 auto;
    }

    /* Logo å€åŸŸ */
    .logo-header {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 30px;
        background-color: white;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .logo-header img {
        max-height: 80px;
        width: auto;
        object-fit: contain;
    }

    header {
        text-align: center;
        margin-bottom: 40px;
    }

    header h1 {
        color: var(--primary-color);
        margin-bottom: 10px;
        font-size: 1.8rem;
    }

    header p {
        color: #666;
        font-size: 1.1rem;
    }

    /* è¨ˆç®—æ©Ÿå¡ç‰‡ */
    .calculator-card {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        margin-bottom: 30px;
        border-top: 5px solid var(--primary-color);
    }

    .card-title {
        font-size: 1.4rem;
        color: var(--primary-color);
        margin-bottom: 10px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
        font-weight: bold;
    }

    .form-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    .input-wrapper {
        position: relative;
    }

    .input-wrapper input {
        width: 100%;
        padding: 12px;
        padding-right: 40px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        box-sizing: border-box;
    }

    .input-wrapper span {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #888;
    }

    .note {
        font-size: 0.9rem;
        color: #555;
        margin-bottom: 15px;
        background-color: #f8f9fa;
        padding: 10px;
        border-radius: 5px;
        border-left: 4px solid #ccc;
    }

    .highlight-red {
        color: #c0392b;
        font-weight: bold;
    }

    button.calc-btn {
        width: 100%;
        padding: 12px;
        background-color: var(--secondary-color);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: background 0.3s;
        margin-top: 10px;
    }

    button.calc-btn:hover {
        background-color: #219150;
    }

    .result-box {
        margin-top: 20px;
        padding: 15px;
        background-color: #e8f6f3;
        border-left: 5px solid var(--secondary-color);
        border-radius: 4px;
        display: none;
    }

    .result-title {
        font-weight: bold;
        color: var(--primary-color);
    }

    .result-amount {
        font-size: 1.5rem;
        color: var(--accent-color);
        font-weight: bold;
        margin: 10px 0;
    }

    /* åœŸå¢ç¨…æ¨£å¼å€éš” */
    .lvit-card {
        border-top-color: var(--accent-color);
    }

    .lvit-card button.calc-btn {
        background-color: var(--accent-color);
    }
    
    .lvit-card button.calc-btn:hover {
        background-color: #d35400;
    }

    .lvit-card .result-box {
        background-color: #fef5e7;
        border-left-color: var(--accent-color);
    }

    /* è­¦èªå€å¡Š */
    .warning-section {
        background-color: #fff3cd;
        border: 1px solid #ffeeba;
        color: #856404;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
    }
    
    .warning-section ul li {
        margin-bottom: 8px; /* å¢åŠ åˆ—è¡¨é–“è· */
    }

    /* å…¬å¸æœå‹™é ˆçŸ¥ */
    .service-notice {
        background-color: #2c3e50;
        color: #ecf0f1;
        padding: 30px;
        border-radius: 15px;
        margin-top: 40px;
    }

    .service-notice h3 {
        color: #f1c40f;
        border-bottom: 1px solid #7f8c8d;
        padding-bottom: 10px;
    }

    .highlight-text {
        color: #f1c40f;
        font-weight: bold;
    }

    footer {
        text-align: center;
        margin-top: 40px;
        font-size: 0.9rem;
        color: #7f8c8d;
    }

    /* æ‡¸æµ®æŒ‰éˆ• */
    .floating-buttons {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 15px;
    }

    .float-btn {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        color: white;
        font-size: 30px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
        background-color: #333;
    }

    .float-btn:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 0 6px 16px rgba(0,0,0,0.4);
    }

    .btn-line { background-color: #00c300; }
    .btn-google { background-color: #ea4335; font-size: 26px; }

    .float-btn::before {
        content: attr(data-tooltip);
        position: absolute;
        right: 75px;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0,0,0,0.8);
        color: white;
        padding: 6px 12px;
        border-radius: 4px;
        font-size: 14px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
    }

    .float-btn:hover::before {
        opacity: 1;
    }

    @media (max-width: 600px) {
        body { padding: 10px; padding-bottom: 90px; }
        .logo-header img { max-height: 60px; }
        .card-title { font-size: 1.2rem; }
        .floating-buttons { bottom: 20px; right: 20px; }
        .float-btn { width: 50px; height: 50px; font-size: 24px; }
    }
</style>
</head>
<body>

<div class="container">
    <div class="logo-header">
        <img src="å®åœ‹åœ°æ”¿å°é¢.jpg" alt="å®åœ‹åœ°æ”¿ Logo">
        <img src="æ˜“ä¸logo-01.jpg" alt="æ˜“ä¸åœ°æ”¿å£«äº‹å‹™æ‰€ Logo">
    </div>

    <header>
        <h1>é‡è³¼é€€ç¨…è©¦ç®—ç¥å™¨</h1>
        <p>æˆ¿åœ°åˆä¸€ç¨… & åœŸåœ°å¢å€¼ç¨…ï½œæ›å±‹æ—å¿…å‚™å·¥å…·</p>
    </header>

    <div class="calculator-card">
        <div class="card-title">ğŸ  æˆ¿åœ°åˆä¸€ç¨…é‡è³¼é€€ç¨… (æ–°åˆ¶)</div>
        <div class="note">
            é©ç”¨å°è±¡ï¼š2016å¹´å¾Œå–å¾—æˆ¿å±‹ï¼Œä¸”é©ç”¨æˆ¿åœ°åˆä¸€ç¨…åˆ¶çš„å±‹ä¸»ã€‚<br>
            <span class="highlight-red">â˜… é‡è¦æ¢ä»¶ï¼šéœ€ç”±å€‹äººã€é…å¶æˆ–æœªæˆå¹´å­å¥³æ–¼è©²å±‹è¾¦ç«£æˆ¶ç±ç™»è¨˜ä¸¦å±…ä½ï¼Œä¸”ç„¡å‡ºç§Ÿã€ä¾›ç‡Ÿæ¥­ä½¿ç”¨ã€‚</span>
        </div>
        
        <div class="form-group">
            <label for="new_sell_price">1. å‡ºå”®æˆäº¤ç¸½åƒ¹</label>
            <div class="input-wrapper">
                <input type="number" id="new_sell_price" placeholder="ä¾‹å¦‚ï¼š1500" min="0">
                <span>è¬å…ƒ</span>
            </div>
        </div>

        <div class="form-group">
            <label for="new_buy_price">2. é‡è³¼æˆäº¤ç¸½åƒ¹</label>
            <div class="input-wrapper">
                <input type="number" id="new_buy_price" placeholder="ä¾‹å¦‚ï¼š2000" min="0">
                <span>è¬å…ƒ</span>
            </div>
        </div>

        <div class="form-group">
            <label for="new_tax_paid">3. å·²ç¹³(æˆ–é ä¼°)æˆ¿åœ°åˆä¸€ç¨…é‡‘</label>
            <div class="input-wrapper">
                <input type="number" id="new_tax_paid" placeholder="ä¾‹å¦‚ï¼š50000" min="0">
                <span>å…ƒ</span>
            </div>
        </div>

        <button class="calc-btn" onclick="calcNewScheme()">è©¦ç®—æˆ¿åœ°åˆä¸€ç¨…é€€ç¨…</button>

        <div id="result_new" class="result-box">
            <div class="result-title">è©¦ç®—çµæœï¼š</div>
            <div class="result-amount" id="res_new_amount">0 å…ƒ</div>
            <div class="note" id="res_new_desc" style="background:none; border:none; padding:0; margin:0;"></div>
        </div>
    </div>

    <div class="calculator-card lvit-card">
        <div class="card-title">ğŸŒ³ åœŸåœ°å¢å€¼ç¨…é‡è³¼é€€ç¨…</div>
        <div class="note">
            æ³¨æ„ï¼šè«‹è¼¸å…¥ã€ŒåœŸåœ°ç”³å ±ç§»è½‰ç¾å€¼ç¸½é¡ã€è€Œéå¸‚åƒ¹ã€‚<br>
            ä¾æ“šåœŸåœ°ç¨…æ³•ç¬¬35æ¢è¦å®šè¾¦ç†ã€‚
        </div>

        <div class="form-group">
            <label for="old_land_value">1. å‡ºå”®åœ°ä¹‹ã€Œç”³å ±ç§»è½‰ç¾å€¼ã€ç¸½é¡</label>
            <div class="input-wrapper">
                <input type="number" id="old_land_value" placeholder="è«‹åƒé–±åœŸå¢ç¨…å–®æˆ–ç”³å ±æ›¸" min="0">
                <span>å…ƒ</span>
            </div>
        </div>

        <div class="form-group">
            <label for="new_land_value">2. é‡è³¼åœ°ä¹‹ã€Œç”³å ±ç§»è½‰ç¾å€¼ã€ç¸½é¡</label>
            <div class="input-wrapper">
                <input type="number" id="new_land_value" placeholder="è«‹åƒé–±åœŸå¢ç¨…å–®æˆ–ç”³å ±æ›¸" min="0">
                <span>å…ƒ</span>
            </div>
        </div>

        <div class="form-group">
            <label for="lvit_tax_paid">3. å·²ç¹³(æˆ–é ä¼°)åœŸåœ°å¢å€¼ç¨…é‡‘</label>
            <div class="input-wrapper">
                <input type="number" id="lvit_tax_paid" placeholder="ä¾‹å¦‚ï¼š150000" min="0">
                <span>å…ƒ</span>
            </div>
        </div>

        <button class="calc-btn" onclick="calcLVIT()">è©¦ç®—åœŸåœ°å¢å€¼ç¨…é€€ç¨…</button>

        <div id="result_lvit" class="result-box">
            <div class="result-title">è©¦ç®—çµæœï¼š</div>
            <div class="result-amount" id="res_lvit_amount">0 å…ƒ</div>
            <div class="note" id="res_lvit_desc" style="background:none; border:none; padding:0; margin:0;"></div>
        </div>
    </div>

    <div class="warning-section">
        <h3>âš ï¸ é‡è¦æé†’ï¼šé‡è³¼é€€ç¨…çš„ 3 å¤§å¤©æ¢</h3>
        <p>ç”³è«‹é€€ç¨…å¾Œï¼Œé‡è³¼çš„æˆ¿åœ°åœ¨ <strong>5 å¹´å…§</strong> å¿…é ˆç¬¦åˆä»¥ä¸‹è¦å®šï¼Œå¦å‰‡æœƒè¢«è¿½ç¹³åŸé€€é‚„ç¨…æ¬¾ï¼ˆä¾æ“šåœŸåœ°ç¨…æ³•ç¬¬37æ¢ï¼‰ï¼š</p>
        <ul>
            <li><strong>ä¸å¯ç§»è½‰</strong>ï¼šä¸èƒ½è³£æ‰ï¼Œä¹Ÿä¸èƒ½è´ˆèˆ‡çµ¦é…å¶ä»¥å¤–çš„äººã€‚</li>
            <li><strong>ä¸å¯æ”¹ä½œå…¶ä»–ç”¨é€”</strong>ï¼šå¿…é ˆç¶­æŒè‡ªä½ï¼Œä¸èƒ½å‡ºç§Ÿã€ä¾›ç‡Ÿæ¥­ä½¿ç”¨ã€‚</li>
            <li>
                <strong>æˆ¶ç±ä¸å¯é·å‡º</strong>ï¼š<br>
                <span style="color:#e74c3c;">(1) åœŸåœ°å¢å€¼ç¨…ï¼šæœ¬äººã€é…å¶æˆ–ç›´ç³»è¦ªå±¬è‡³å°‘ä¸€äººéœ€è¨­ç±ã€‚</span><br>
                <span style="color:#e74c3c;">(2) æˆ¿åœ°åˆä¸€ç¨…ï¼šæœ¬äººã€é…å¶æˆ–æœªæˆå¹´å­å¥³è‡³å°‘ä¸€äººéœ€è¨­ç±ã€‚</span>
            </li>
        </ul>
    </div>

    <div class="service-notice">
        <h3>ğŸ  å§”è¨—è¾¦ç† é‡è¦é ˆçŸ¥</h3>
        <p>é‡è³¼é€€ç¨…æ¶‰åŠè¤‡é›œçš„ç¨…å‹™è¦åŠƒèˆ‡æ™‚é–“é»èªå®šï¼Œè‹¥æ‚¨å¸Œæœ›ç”±æœ¬å…¬å¸å”åŠ©è¾¦ç†ï¼Œè«‹å‹™å¿…é…åˆï¼š</p>
        
        <p><strong>1. è«‹è¨˜å¾—ã€ŒæŒ‡å®šã€æˆ‘å€‘</strong><br>
        åœ¨è²·è³£ç°½ç´„éšæ®µï¼Œè«‹å‘ <span class="highlight-text">è³£æ–¹ / å»ºè¨­å…¬å¸ / ä»²ä»‹æ¥­è€…</span> æ˜ç¢ºè¡¨ç¤ºï¼š<br>
        ã€Œæˆ‘è¦æŒ‡å®šç”±ã€å®åœ‹åœ°æ”¿/æ˜“ä¸åœ°æ”¿ã€‘è¾¦ç†ã€ï¼Œæˆ‘å€‘æ‰èƒ½åæ­£è¨€é †åœ°å”åŠ©æ‚¨çˆ­å–æœ€å¤§æ¬Šç›Šï¼</p>
        
        <p><strong>2. å‚³è¨Šå¾Œè«‹ã€Œä¾†é›»ç¢ºèªã€ ğŸ“</strong><br>
        æœ¬å…¬å¸å°æœ¬ç¶“ç‡Ÿï¼Œæœå‹™è¦ªåŠ›è¦ªç‚ºã€‚<br>
        è‹¥æ‚¨å·²é€éç³»çµ±æˆ– Line å‚³ééœ€æ±‚ï¼Œ<span class="highlight-text">ç…©è«‹æ’¥å€‹é›»è©±é€šçŸ¥æˆ‘å€‘ï¼Œä¸¦å‘ŠçŸ¥æ‚¨çš„ Line åç¨±</span>ï¼Œç¢ºèªè¨Šæ¯ç„¡éºæ¼ï¼Œè®“æˆ‘å€‘èƒ½ç¬¬ä¸€æ™‚é–“ç‚ºæ‚¨æœå‹™ï¼</p>
        
        <p style="text-align: right; margin-top: 20px;">è¬è¬æ‚¨çš„é…åˆï¼ğŸ™</p>
    </div>

    <footer>
        <p>Â© å®åœ‹åœ°æ”¿ï½œæ˜“ä¸åœ°æ”¿ ç‰ˆæ¬Šæ‰€æœ‰<br>æœ¬è©¦ç®—çµæœåƒ…ä¾›åƒè€ƒï¼Œå¯¦éš›ç¨…é¡ä»¥ç¨…ææ©Ÿé—œæ ¸å®šç‚ºæº–ã€‚</p>
    </footer>
</div>

<div class="floating-buttons">
    <a href="https://line.me/R/ti/p/@604gpqef" target="_blank" class="float-btn btn-line" data-tooltip="åŠ å…¥å®˜æ–¹ Line">
        ğŸ’¬
    </a>
    
    <a href="https://maps.app.goo.gl/s8nc2ckdM9GTpu8Q9" target="_blank" class="float-btn btn-google" data-tooltip="çµ¦æˆ‘å€‘ Google è©•è«–">
        â­
    </a>
</div>

<script>
    function formatCurrency(num) {
        return new Intl.NumberFormat('zh-TW').format(Math.floor(num));
    }

    // æˆ¿åœ°åˆä¸€ç¨…è©¦ç®—é‚è¼¯ [cite: 288-290]
    function calcNewScheme() {
        const sellPrice = parseFloat(document.getElementById('new_sell_price').value) * 10000;
        const buyPrice = parseFloat(document.getElementById('new_buy_price').value) * 10000;
        const taxPaid = parseFloat(document.getElementById('new_tax_paid').value);

        const resultBox = document.getElementById('result_new');
        const amountDisplay = document.getElementById('res_new_amount');
        const descDisplay = document.getElementById('res_new_desc');

        if (isNaN(sellPrice) || isNaN(buyPrice) || isNaN(taxPaid) || sellPrice <= 0) {
            alert("è«‹ç¢ºèªæ‰€æœ‰æ¬„ä½çš†å·²è¼¸å…¥æ­£ç¢ºæ•¸å­—");
            return;
        }

        let refundAmount = 0;
        let message = "";

        if (buyPrice >= sellPrice) {
            refundAmount = taxPaid;
            message = "æ­å–œï¼é‡è³¼é‡‘é¡å¤§æ–¼ç­‰æ–¼å‡ºå”®é‡‘é¡ï¼Œé è¨ˆå¯ã€Œå…¨é¡é€€ç¨…ã€ã€‚";
        } else {
            let ratio = buyPrice / sellPrice;
            refundAmount = taxPaid * ratio;
            message = `é‡è³¼é‡‘é¡å°æ–¼å‡ºå”®é‡‘é¡ï¼Œä¾æ¯”ä¾‹ (${(ratio*100).toFixed(2)}%) é€€ç¨…ã€‚`;
        }

        resultBox.style.display = 'block';
        amountDisplay.innerText = formatCurrency(refundAmount) + " å…ƒ";
        descDisplay.innerText = message;
    }

    // åœŸåœ°å¢å€¼ç¨…è©¦ç®—é‚è¼¯ [cite: 251-255]
    function calcLVIT() {
        const oldVal = parseFloat(document.getElementById('old_land_value').value);
        const newVal = parseFloat(document.getElementById('new_land_value').value);
        const taxPaid = parseFloat(document.getElementById('lvit_tax_paid').value);

        const resultBox = document.getElementById('result_lvit');
        const amountDisplay = document.getElementById('res_lvit_amount');
        const descDisplay = document.getElementById('res_lvit_desc');

        if (isNaN(oldVal) || isNaN(newVal) || isNaN(taxPaid)) {
            alert("è«‹ç¢ºèªæ‰€æœ‰æ¬„ä½çš†å·²è¼¸å…¥æ­£ç¢ºæ•¸å­—");
            return;
        }

        let netProceeds = oldVal - taxPaid;
        let deficit = newVal - netProceeds;

        let refundAmount = 0;
        let message = "";

        if (deficit <= 0) {
            refundAmount = 0;
            message = "æ–°è³¼åœŸåœ°ç”³å ±ç¾å€¼ä¸è¶³ï¼Œç„¡æ³•é€€ç¨… (ä¾è¦å®šéœ€æœ‰é¤˜é¡ä¸è¶³æ”¯ä»˜æ–°è³¼åœŸåœ°åœ°åƒ¹æ‰å¯é€€ç¨…)ã€‚";
        } else {
            if (deficit >= taxPaid) {
                refundAmount = taxPaid;
                message = "åœŸåœ°ç¾å€¼å·®é¡å¤§æ–¼å·²ç¹³ç¨…é¡ï¼Œé è¨ˆå¯ã€Œå…¨é¡é€€ç¨…ã€ã€‚";
            } else {
                refundAmount = deficit;
                message = "ä¾æ“šåœŸåœ°ç¾å€¼ä¸è¶³æ”¯ä»˜ä¹‹å·®é¡è¨ˆç®—é€€ç¨…ã€‚";
            }
        }

        resultBox.style.display = 'block';
        amountDisplay.innerText = formatCurrency(refundAmount) + " å…ƒ";
        descDisplay.innerText = message;
    }
</script>

</body>
</html>